<div class="scanner-page">

  <div class="scanner-card">
    <div class="scanner-header">
      <i class="bi bi-qr-code-scan scanner-icon"></i>
      <h1 style="color: black;">Scan QR Code</h1>
    </div>
<input
  #qrInput
  type="text"
  class="form-control"
  placeholder="Scan QR Code"
  autofocus
  (keydown.enter)="onQrScanned(qrInput.value); qrInput.value='';"
/>

    <!-- Camera Selector -->
    <div class="camera-select" *ngIf="cameras.length > 0">
      <label for="camera" style="color: black;">Select Camera:</label>
      <select id="camera" class="form-select form-select-lg" (change)="onCameraChange($event)">
        <option *ngFor="let cam of cameras" [value]="cam.id">
          {{ cam.label }}
        </option>
      </select>
    </div>

    <!-- QR Reader -->
    <div id="qr-reader" class="qr-reader"></div>
  </div>

<div *ngIf="showDetailsModal" class="modal-backdrop-custom">
    <div class="modal-custom">
        <div class="modal-header bg-primary text-white">
            <h5 class="mb-0">
               Details
            </h5>
            <button class="btn-close btn-close-white" (click)="closeDetailsModal()"></button>
        </div>
       <div class="modal-body">

  <!-- Scanned Result -->
  <div class="mb-3">
    <strong>Scanned UID:</strong>
    <div class="text-primary">{{ scannedResult }}</div>
  </div>

  <!-- Member Info View -->
  <div *ngIf="memberInfo" class="border rounded p-3">

    <div class="row mb-2">
      <div class="col-4 fw-bold">Full Name</div>
      <div class="col-8">{{ memberInfo.fullName }}</div>
    </div>

    <div class="row mb-2">
      <div class="col-4 fw-bold">Mobile</div>
      <div class="col-8">{{ memberInfo.mobileNumber }}</div>
    </div>

    <div class="row mb-2">
      <div class="col-4 fw-bold">Gender</div>
      <div class="col-8 text-capitalize">{{ memberInfo.gender }}</div>
    </div>

    <div class="row mb-2">
      <div class="col-4 fw-bold">State / District</div>
      <div class="col-8">{{ memberInfo.stateDistrict }}</div>
    </div>

    <!-- Registration Fees Dropdown -->
    <div class="row mb-2 align-items-center">
      <div class="col-4 fw-bold">Registration Fees</div>
      <div class="col-8">
        <select
          class="form-select"
          [(ngModel)]="memberInfo.registrationFees">
          <option value="paid">Paid</option>
          <option value="unpaid">Unpaid</option>
        </select>
      </div>
    </div>

  </div>
       </div>

        <div class="modal-footer d-flex justify-content-end gap-2">
  <button class="btn btn-outline-secondary" (click)="closeDetailsModal()">
    Cancel
  </button>

  <!-- Show Update if unpaid -->
  <button
    *ngIf="memberInfo?.registrationFees === 'unpaid'"
    class="btn btn-warning"
    (click)="updateFeesStatus()">
    Update
  </button>

  <!-- Show Approve if paid -->
  <button
    class="btn btn-success"
    (click)="approve()">
    Approve
  </button>
</div>

        
    </div>
</div>
</div>