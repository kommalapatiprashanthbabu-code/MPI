<div class="scanner-page">
  <div class="scanner-card glass">
    <div class="scanner-header">
      <div class="scanner-icon-wrap">
        <i class="bi bi-qr-code-scan"></i>
      </div>
      <div>
        <h1>QR Scanner</h1>
        <p class="subtitle">Scan visitor QR code to verify & approve</p>
      </div>
    </div>

    <div class="scan-input-wrapper">
      <input
        #qrInput
        type="text"
        class="scan-input"
        placeholder="Scan QR code here..."
        autofocus
        (keydown.enter)="onQrScanned(qrInput.value); qrInput.value='';"
      />
      <span class="scan-hint">ðŸ“· Waiting for scanâ€¦</span>
    </div>
  </div>

<div *ngIf="showDetailsModal" class="modal-backdrop-custom">
    <div class="modal-custom">
        <div class="modal-header text-black">
            <h5 class="mb-0">
               Details
            </h5>
            <button class="btn-close btn-close-black" (click)="closeDetailsModal()"></button>
        </div>
       <div class="modal-body">

  <!-- Scanned Result -->
  <div class="mb-3">
    <div><strong>Scanned UID : </strong><span class="text-primary"><b>{{ scannedResult.serialNo }}</b> </span></div>
  </div>

  <!-- Member Info View -->
  <div *ngIf="memberInfo" class="border rounded p-3">

    <div class="row mb-2">
      <div class="col-4 fw-bold">Full Name</div>
      <div class="col-8">{{ memberInfo.fullName }}</div>
    </div>

    <div class="row mb-2">
      <div class="col-4 fw-bold">Mobile</div>
      <div class="col-8">{{ memberInfo.mobileNumber }}</div>
    </div>

    <div class="row mb-2">
      <div class="col-4 fw-bold">Gender</div>
      <div class="col-8 text-capitalize">{{ memberInfo.gender }}</div>
    </div>

    <div class="row mb-2">
      <div class="col-4 fw-bold">State / District</div>
      <div class="col-8">{{ memberInfo.stateDistrict }}</div>
    </div>

    <!-- Registration Fees Dropdown -->
    <div class="row mb-2 align-items-center">
      <div class="col-4 fw-bold">Registration Fees</div>
      <div class="col-8">
        <select
          class="form-select"
          [(ngModel)]="memberInfo.registrationFees">
          <option value="paid">Paid</option>
          <option value="unpaid">Unpaid</option>
        </select>
      </div>
    </div>

  </div>
       </div>

        <div class="modal-footer d-flex justify-content-end gap-2">
  <button class="btn btn-danger" (click)="closeDetailsModal()">
    Close
  </button>

  <!-- Show Update if unpaid -->
  <button
    class="btn btn-warning"
    (click)="updateFeesStatus()">
    Update
  </button>

  <!-- Show Approve if paid -->
  <button
    class="btn btn-success"
    (click)="approve()">
    Approve
  </button>
</div>

        
    </div>
</div>
</div>